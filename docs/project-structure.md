# Project structure

## Content

All of the content files are written in [`mdx`](https://mdxjs.com/), which is a extended version of Markdown. What works in Markdown, works in MDX. Content is placed under the `/src/pages` folder.

To facilitate multi-language support content is split up into folders that have a language-code as their name. Because of page linking, no content is allowed at the root level, see [Internationalization](internationalization.md) for more information about that.

A valid (recommended) structure would be:

```console
/src
    /pages
        /en
            /index.mdx
            /about.mdx
        /nl
            [[ some content files ]]
        /es
            [[ some content files ]]
        /fr
            [[ some content files ]]
```

An example of an invalid (not recommended) structure would be:

```console
/src
    /pages
        /index.mdx              <--|
        /some-page.mdx             |
        /guides                    | Not recommended
            /index.mdx             |
            /about.mdx          <--|
```

Content in the root directory will be localized. So only the front-page and error pages should be allowed here.

### Exceptions

There are a few exceptions to this rule:

- `404.mdx`

## The `/public` folder

The public folder is a folder provided by Astro to directly put something inside of the build and make it publicly available. If it needs to be public is will probably belong in here.

### Examples

- **Images** - Images need to be always available and they don't need to be included in the build process
- **favicon.ico** - The favicon is another example of an image
- **htaccess** - An htaccess file usually isn't served by the file-servers that use it. This is an example of something you want in build but don't necessarily want to be public
- **robots.txt** - The robots.txt is used by search engines like Bing or Google to scrape which parts of the website are allowed to be indexed. The is never really a direct reference to it, but we want it to be public

## The `/src` folder

The `/src` of "source folder" is where all of the files that need to be compiled live. Think of `.mdx` pages that need to be transformed into `.html` or `.scss` files that need to become `.css`.

This folder had the following structure

- `/assets` - A folder that contains assets like images or data files (.json) which are directly referenced in `.mdx`, `.ts` or `.astro` files. If they are not referenced with an import statement they will not be included in the final build
- `/components` - A folder that contains all of the components used throughout the project
  - `/charts` - A folder containing the charts (e.g. pros and cons, criteria charts or plans) used on various pages like [/src/pages/en/guides/moderately-important/backups.mdx](../src/pages/en/guides/moderately-important/backups.mdx)
  - `/controls` - This folder should contain controls like buttons, links, selection boxes and form inputs
  - `/footer` - Components used by the footer and the footer itself
  - `/guides` - Since the guides are multiple separate pages it has its own folder in the root of the components folder. It contains the actions (aka back and next buttons) and the guides navigation sidebar
  - `/header` - Contains the header and its associated components like header links and language switchers
  - `/layout` - Contains components that are not constrained to being used on a single page, but that are used for laying out pages
  - `/pages` - Contains folders that contain components that are specific to a singular pages
- `/layouts` - A folder containing the layouts that can be used within the pages
- `/pages` - The actual content of the website that will be compiled to `.html` files. Refer to the [writing content docs](content/writing-content.md) for more information. Also go back to the [Content](#content) heading for information about the content structure
- `/styles` - A folder containing the `.scss` and `.css` files included by the project. Preferably no new CSS should be written since [TailwindCSS](https://tailwindcss.com/) should take care of most of it
- `/types` - Type declarations that are used by multiple `.ts` or `.astro` files.
- `/utils` - A folder containing utility functions and classes that are often used by components. It is recommended that these are not directly used in pages and should often be abstracted into their own components
- `env.d.ts` - A typescript type declaration file generated by Astro that should not be moved or edited

## Iconography / Images

Often you want to use images to demonstrate a point in your content. Images should be put under the `/public/images` folder. You might have already noticed that the images are sorted into different folders like `/graphics`, `/languages` or `/logos`. These all have a different purpose and this structure should be maintained when adding new images to make it easier to find images.

The following folders have the following meanings:

- `/graphics` - For general images like quotes, images of people and others used to convey meaning within content
- `/languages` - A folder only used to store flags/icons of the languages specified in [config.json](config.md). They should preferably be SVGs to make them scalable
- `/logos` - A folder for containing logos for companies, products and websites
- `/qr-codes` - This folder should contain images that are **ONLY** qr-codes
- `/sponsors` - A folder specifically meant for logos of sponsors. Just to keep it easy to look up.
- `/steps` - Some content has images that demonstrate a step by step guide of how to do something. That is what this folder is for. No steps should be contained in the root of the steps folder, instead create a folder inside of it and put the steps in there.

For information on how to use icons [click here](content/icons.md)

## The `/caddy` folder

This folder contains webserver configuration files, to set HTTP headers, [server-side redirects](server/redirects.md), etc. It is not used when building or serving the site locally, and contains hardcoded, server-specific configuration lines that may not be applicable to setups outside The New Oil.
